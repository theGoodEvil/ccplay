@import compass/css3/box-sizing
@import compass/css3/text-shadow
@import compass/css3/transform
@import compass/css3/transition
@import compass/css3/user-interface
@import animation

$dark-gray: #333
$medium-gray: #c8c8c8
$light-gray: #e4e4e4
$extra-light-gray: #f0efec

@function prefix-expression($property, $value)
  @return "(-webkit-#{$property}: #{$value}), (-moz-#{$property}: #{$value}), (-o-#{$property}: #{$value}), (#{$property}: #{$value})"

html, body
  font-family: 'Source Sans Pro', sans-serif
  font-weight: 300
  background-color: $extra-light-gray

+keyframes(rotate)
  from
    +rotate(0deg)
  to
    +rotate(360deg)

=fade
  display: none
  opacity: 0
  +transition(opacity 0.5s ease-in-out)

#welcome
  +fade

  position: absolute
  display: table
  width: 100%
  height: 100%

#welcomeBox
  display: table-cell
  vertical-align: middle
  text-align: center

  .caption, .teaser
    display: inline-block

  .caption
    font-weight: 700
    font-size: 89px

    .button
      display: inline-block
      vertical-align: 12px

  .teaser
    text-align: left
    margin-bottom: 1.5em
    padding-left: 1.5em

#loading
  +fade
  +animation(rotate 1s infinite)
  +animation-timing-function(linear)

  background: url("../img/loading.png") no-repeat center
  @media #{prefix-expression(min-device-pixel-ratio, 2)}
    background-image: url("../img/loading@2x.png")

  background-size: 60px 60px
  width: 60px
  height: 60px

  position: absolute
  margin: auto
  left: 0
  right: 0
  top: 0
  bottom: 0

#main
  +fade

  width: 96%
  position: absolute
  margin: auto
  left: 0
  right: 0

#puzzleContainer
  position: relative

#flash
  visibility: hidden
  position: absolute
  width: 100%

  background-color: rgba(255, 255, 255, 0.8)
  +transition(background-color 0.5s linear)

#actions
  position: absolute
  top: 0
  /* left position will be set using JS */

  +user-select(none)

em
  font-weight: 400
  font-style: normal

h1
  font-size: 1.5em
  font-weight: 400
  vertical-align: middle
  margin-top: 1em
  margin-bottom: 0.7em

a, a:active, a:visited, a:hover
  color: inherit
  text-decoration: none
  border-bottom: 1px dotted $medium-gray
  padding: 0 2px

a:hover
  background-color: $medium-gray

p
  text-align: justify
  margin-top: -0.7em
  margin-bottom: 1em

#article, #help, #imprint
  display: none

#help, #imprint
  +box-sizing(border-box)
  padding: 0.5em 1.5em
  background-color: $light-gray

.closeButton
  float: right
  height: 1em
  width: 1em
  font-size: 2em
  text-align: center
  line-height: 1em
  margin-top: 0.1em
  text-decoration: none

  &, &:hover
    border: 0

#help :not(.closeButton) i
  display: inline-block
  width: 2em
  height: 1.5em
  text-align: center

#imprint iframe
  width: 100%
  height: 100px
  border: 0

#license
  font-size: 0.6em
  font-weight: 400
  color: $dark-gray
  text-align: right

#timeline
  margin-top: 0.5em

.decade, a:visited.decade,
  display: inline-block
  color: $medium-gray
  background-color: $light-gray
  margin-right: 0.5em
  margin-top: 0.5em

  width: 3.5em
  padding-top: 0.25em 
  padding-bottom: 0.25em

  font-size: 1.5em
  font-weight: 400
  text-decoration: none 
  text-align: center 

  &:active.decade
    background-color: $dark-gray

  &,&:hover
    border: none

  &:after
    content: "\f058" // icon-ok-sign
    color: $medium-gray
    
    font-family: "FontAwesome"
    font-size: 0.7em
    
    margin-left: 0.3em
    vertical-align: 0.1em

  &:last-child
    margin-right: 0

  &:hover
    color: $extra-light-gray
    background-color: $medium-gray
    padding-top: 0.25em 
    padding-bottom: 0.25em

  &:hover:after
    color: $extra-light-gray    

  &.unlocked
    &.decade
      color: $dark-gray
      background-color: $medium-gray   
    
    &:hover.decade
      background-color: $dark-gray
      color: $medium-gray 

    &:hover:after
      color: $medium-gray    

    &:after
      content: "\f058" // icon-ok-sign
      color: $dark-gray


/*** NAV-BUTTONS ***/

.button, a:active.button, a:visited.button, a:hover.button
  display: block
  width: 60px
  height: 60px
  margin: 15px
  margin-top: 0

  background-color: $medium-gray
  color: $dark-gray
  border: none

  font-size: 42px
  text-decoration: none
  text-align: center
  line-height: 65px
  padding: 0

  +text-shadow($light-gray -1px -1px 2px, $light-gray 1px 1px 2px)
  +text-shadow($medium-gray 1px 1px 3px, $dark-gray 0px 0px 1px)

a:hover.button, div:hover.button
  color: $dark-gray
  background-color: $light-gray

/* Below iPad Portrait */
@media (max-width: 767px)
  h1
    font-size: 1.25em

/* Portrait iPhone */
@media (max-width: 320px)
  .button
    display: inline-block
    margin: 0
    margin-top: 15px

  #actions
    position: static
    width: 100%
    text-align: justify

    .stretch
      width: 100%
      display: inline-block

  #timeline
    margin-top: 0

  #welcome
    .caption
      font-size: 76px

      .button
        display: inline-block
        width: 50px
        height: 50px
        line-height: 51px
        vertical-align: 9px
        margin-left: 3px
        margin-right: 7px

    .teaser
      font-size: 0.9em
